(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,n,t){"use strict";var r=t(4),o=t(3);function a(){var e=Object(r.a)(["\n  display: block;\n  font-size: 1em;\n  transition: all 0.1s ease;\n  cursor: pointer;\n  outline: none;\n  padding: ",";\n  border-radius: 4px;\n  border: 1px solid transparent;\n  box-shadow: 0 4px 8px 0 ",";\n  background: ",";\n  color: ",";\n\n  &:hover {\n    opacity: 0.8;\n  }\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  &:disabled {\n    opacity: 0.3;\n    cursor: text;\n  }\n"]);return a=function(){return e},e}function c(){var e=Object(r.a)(["\n  font-size: 20px;\n  padding: 10px;\n"]);return c=function(){return e},e}var u=Object(o.c)(c()),i=o.d.button(a(),function(e){return e.theme.paddings.small},function(e){return e.theme.colors.btn.shadow},function(e){return"linear-gradient(79deg, ".concat(e.theme.colors.btn.prime1,", ").concat(e.theme.colors.btn.prime2,")")},function(e){return e.theme.colors.white});function s(){var e=Object(r.a)(["\n  height: 34px;\n  border-radius: 4px;\n  background-color: ",";\n  line-height: 34px;\n  padding: 0 15px;\n  border: 1px solid ",";\n  outline: none;\n\n  &:focus {\n    border: solid 1px ",";\n    box-shadow: 0 4px 16px 0 ",";\n  }\n"]);return s=function(){return e},e}var l=o.d.select(s(),function(e){return e.theme.colors.white},function(e){return e.theme.colors.input.border},function(e){return e.theme.colors.input.focusBorder},function(e){return e.theme.colors.input.focusShadow});function d(){var e=Object(r.a)(["\n  height: 34px;\n  width: 100%;\n  border-radius: 4px;\n  background-color: ",";\n  line-height: 34px;\n  padding: 0 15px;\n  border: 1px solid ",";\n  outline: none;\n\n  &:focus {\n    box-shadow: 0 4px 16px 0 ",";\n    border: solid 1px ",";\n  }\n"]);return d=function(){return e},e}var m=o.d.input(d(),function(e){return e.theme.colors.white},function(e){return e.theme.colors.input.border},function(e){return e.theme.colors.input.focusShadow},function(e){return e.theme.colors.input.focusBorder});t.d(n,"a",function(){return i}),t.d(n,"d",function(){return u}),t.d(n,"c",function(){return l}),t.d(n,"b",function(){return m})},215:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return a}),t.d(n,"b",function(){return c}),t.d(n,"e",function(){return u}),t.d(n,"g",function(){return i}),t.d(n,"h",function(){return s}),t.d(n,"f",function(){return l});var r="encounterBattle/ADD_MONSTER_TO_BATTLE_TABLE",o="encounterBattle/SET_MONSTER_HP",a="encounterBattle/SET_MONSTER_STATE",c="encounterBattle/NEXT_TURN",u=function(e){return{type:r,monster:e}},i=function(e,n){return{type:o,rowID:e,hp:n}},s=function(e,n){return{type:a,rowID:e,state:n}},l=function(){return{type:c}}},218:function(e,n,t){"use strict";var r=t(4),o=t(3);function a(){var e=Object(r.a)(["\n  margin: 0;\n  margin-bottom: ",";\n  font-size: ",";\n  font-weight: normal;\n  line-height: 1;\n  ","\n"]);return a=function(){return e},e}function c(){var e=Object(r.a)(["\n  text-align: center;\n"]);return c=function(){return e},e}var u=Object(o.c)(c()),i=o.d.h2(a(),function(e){return e.theme.margins.medium},function(e){return e.theme.fontSize.title},function(e){return e.center&&u});t.d(n,"a",function(){return i})},242:function(e,n,t){"use strict";t.r(n);var r=t(12),o=function(e){return e.encounterBattle?e.encounterBattle.monsters:[]},a=function(e){return e.encounterBattle.turn},c=t(0),u=t.n(c),i=t(31),s=t(37),l=t(218),d=t(25),m=t(215),p=t(13),f=t(14),b=t(17),h=t(16),v=t(18),x=t(80),w=t(68),g=t(214),O=function(e){function n(){var e,t;Object(p.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(b.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(o)))).state={value:t.props.value},t.handleOnChange=function(e){var n=e.target.value;/^[\s\d()+\-*\/.]*$/.test(n)&&t.setState({value:n})},t.handleOnBlur=function(e){var n=e.target.value,r=t.props.value;try{t.setMonsterHP(t.eval(n))}catch(o){t.setMonsterHP(r)}},t.setMonsterHP=function(e){var n=t.props;(0,n.setMonsterHP)(n.rowID,Number(e))},t.eval=function(e){return Number(new Function("return ".concat(e))())},t}return Object(v.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){return u.a.createElement(g.b,{onChange:this.handleOnChange,onBlur:this.handleOnBlur,value:this.state.value})}}]),n}(u.a.PureComponent),j=Object(r.c)(null,function(e){return{setMonsterHP:function(n,t){return e(Object(m.g)(n,t))}}})(O),E=t(234),T=["unconscious","frightened","invisible","incapacitated","deafened","petrified","restrained","blinded","poisoned","charmed","stunned","paralyzed","prone","grappled"],y=t(9),C=t(69),P={container:function(e){return Object(y.a)({},e,{width:"100%"})},control:function(e,n){var t=n.selectProps.menuIsOpen,r=n.isFocused;return Object(y.a)({},e,{borderRadius:t?"4px 4px 0 0":4,borderColor:r?C.b.colors.input.focusBorder:C.b.colors.input.border,boxShadow:r?"0 4px 16px 0 ".concat(C.b.colors.input.focusShadow):null,backgroundColor:C.b.colors.white,"&:hover":{borderColor:r?C.b.colors.input.focusBorder:C.b.colors.input.border,boxShadow:r?"0 4px 16px 0 ".concat(C.b.colors.input.focusShadow):null}})},dropdownIndicator:function(e,n){var t=n.selectProps.menuIsOpen;return Object(y.a)({},e,{transition:"all .2s ease",transform:t?"rotate(180deg)":null})},menu:function(e){return Object(y.a)({},e,{margin:0,borderRadius:"0 0 4px 4px"})},menuList:function(e){return Object(y.a)({},e,{padding:0})},multiValueLabel:function(e){return Object(y.a)({},e,{whiteSpace:"normal"})}},S=t(36),_=t(239),k=t(226),M=Object(i.d)(function(e){var n=e.intl.formatMessage,t=e.data.value,r=Number(n({id:"monster.states.".concat(t,"-description-texts-count")})),o=Array.from(new Array(r),function(e,n){return n+1}),a=(e.intl,Object(S.a)(e,["intl"])),c=u.a.createElement(k.z.MultiValueLabel,a);return u.a.createElement(_.StatefulToolTip,{parent:c,position:"bottom",arrow:"center"},u.a.createElement("ul",null,o.map(function(e){return u.a.createElement("li",{key:e},n({id:"monster.states.".concat(t,"-description-text-").concat(e)}))})))}),B=function(e){function n(){var e,t;Object(p.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(b.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(o)))).handleOnChange=function(e){var n=t.props;(0,n.setMonsterState)(n.rowID,e)},t}return Object(v.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){var e=this.props,n=e.value,t=e.intl.formatMessage,r=T.map(function(e){return{label:t({id:"monster.states.".concat(e)}),value:e}});return u.a.createElement(E.a,{isMulti:!0,name:"colors",options:r,components:{MultiValueLabel:M},onChange:this.handleOnChange,value:n,styles:P,menuPortalTarget:document.body,placeholder:"".concat(t({id:"monster.state"}),"...")})}}]),n}(u.a.PureComponent),D=Object(i.d)(B),I=Object(r.c)(null,function(e){return{setMonsterState:function(n,t){return e(Object(m.h)(n,t))}}})(D),H=function(e){function n(){var e,t;Object(p.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(b.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(o)))).handleTrProps=function(e,n){var r=n.index;return{style:{cursor:"auto",background:t.props.turn===r?"#e4e4e4":"inherit"}}},t.handleTdProps=function(e,n,r){return{onClick:function(e,o){"monster.name"===r.id&&t.props.showModal(w.a,{monsterID:n.original.monster.id}),o&&o()}}},t}return Object(v.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){var e=this.props,n=e.monsters,t=e.intl.formatMessage,r=[{Header:t({id:"monster.name"}),accessor:"monster.name",width:250,style:{cursor:"pointer"}},{Header:t({id:"monster.hit-points"}),accessor:"monster.hit_points",Cell:function(e){var n=e.original.rowID,t=e.value;return u.a.createElement(j,{rowID:n,value:t})},width:100,style:{justifyContent:"center"}},{Header:"".concat(t({id:"monster.armor"})," (").concat(t({id:"monster.armor-class"}),")"),accessor:"monster",Cell:function(e){var n=e.value;return n.armor_desc?"".concat(n.armor_desc," (").concat(n.armor_class,")"):n.armor_class},width:160},{Header:t({id:"monster.initiative"}),accessor:"monster.initiative",style:{justifyContent:"center"},width:120},{Header:t({id:"monster.speed.title"}),accessor:"monster.speed",Cell:function(e){var n=e.value;return"        ".concat(n.walk?"".concat(t({id:"monster.speed.walk"},{speed:n.walk}),", "):"","        ").concat(n.burrow?"".concat(t({id:"monster.speed.burrow"},{speed:n.burrow}),", "):"","        ").concat(n.fly?"".concat(t({id:"monster.speed.fly"},{speed:n.fly}),", "):"","        ").concat(n.swim?"".concat(t({id:"monster.speed.swim"},{speed:n.swim}),", "):"","        ").concat(n.climb?"".concat(t({id:"monster.speed.climb"},{speed:n.climb}),", "):"","        ").slice(0,-2)},width:160},{Header:t({id:"monster.state"}),accessor:"monster.state",Cell:function(e){var n=e.original.rowID,t=e.value;return u.a.createElement(I,{rowID:n,value:t})},width:240},{Header:t({id:"monster.actions"}),accessor:"monster.actions",Cell:function(e){return e.value.map(function(e){return u.a.createElement("span",{key:e.name},u.a.createElement("b",null,e.name,".")," ",e.desc)})},style:{flexDirection:"column",alignItems:"normal"}}],o=n.map(function(e){return{rowID:e.rowID,monster:{id:e.monster.id,name:e.monster.name,hit_points:e.monster.hit_points,armor_class:e.monster.armor_class,armor_desc:e.monster.armor_desc,initiative:e.monster.initiative,speed:e.monster.speed,state:e.monster.state,actions:e.monster.actions}}});return u.a.createElement(x.a,{data:o,columns:r,showPagination:!1,resizable:!1,sortable:!1,minRows:1,previousText:t({id:"table-labels.previousText"}),nextText:t({id:"table-labels.nextText"}),loadingText:t({id:"table-labels.loadingText"}),noDataText:t({id:"table-labels.noDataText"}),pageText:t({id:"table-labels.pageText"}),ofText:t({id:"table-labels.ofText"}),rowsText:t({id:"table-labels.rowsText"}),pageJumpText:t({id:"table-labels.pageJumpText"}),rowsSelectorText:t({id:"table-labels.rowsSelectorText"}),getTrProps:this.handleTrProps,getTdProps:this.handleTdProps})}}]),n}(u.a.PureComponent),A=Object(i.d)(H),N=Object(r.c)(function(e){return{turn:a(e)}},function(e){return{setMonsterHP:function(n,t){return e(Object(m.g)(n,t))},showModal:function(n,t){return e(Object(d.h)(n,t))}}})(A),z=t(4),R=t(3);function L(){var e=Object(z.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: ",";\n"]);return L=function(){return e},e}var J=R.d.div(L(),function(e){return e.theme.margins.medium}),V=t(77);function F(){var e=Object(z.a)([" "," "]);return F=function(){return e},e}var U=Object(R.d)(g.a.withComponent(V.a))(F(),g.d),X=function(){return u.a.createElement(U,{to:"/"},u.a.createElement(i.a,{id:"encounter-battle.back"}))};function $(){var e=Object(z.a)([" "," "]);return $=function(){return e},e}var q=Object(R.d)(g.a)($(),g.d),G=function(e){var n=e.nextTurn;return u.a.createElement(q,{onClick:n},u.a.createElement(i.a,{id:"encounter-battle.next-turn"}))},K=Object(r.c)(null,function(e){return{nextTurn:function(){return e(Object(m.f)())}}})(G),Q=function(e){var n=e.monsters;return n.length?u.a.createElement(s.c,null,u.a.createElement(s.a,{xs:12},u.a.createElement(s.c,null,u.a.createElement(s.a,{xs:12},u.a.createElement(l.a,{center:!0},u.a.createElement(i.a,{id:"encounter-battle.title"})))),u.a.createElement(s.c,null,u.a.createElement(s.a,{xs:12},u.a.createElement(N,{monsters:n}))),u.a.createElement(s.c,null,u.a.createElement(s.a,{xs:12},u.a.createElement(J,null,u.a.createElement(X,null),u.a.createElement(K,null)))))):u.a.createElement(s.c,null,u.a.createElement(s.a,{xs:12},u.a.createElement(s.c,null,u.a.createElement(s.a,{xs:12},u.a.createElement(l.a,{center:!0},u.a.createElement(i.a,{id:"encounter-battle.add-monsters-before-start-battle"})))),u.a.createElement(s.c,null,u.a.createElement(s.a,{xs:12},u.a.createElement(J,null,u.a.createElement(X,null))))))},W=Object(r.c)(function(e){return{monsters:o(e)}})(Q);t.d(n,"default",function(){return W})}}]);
//# sourceMappingURL=encounterBattle.c39eed3d.chunk.js.map