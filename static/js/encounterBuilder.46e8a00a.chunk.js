(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{214:function(e,t,n){"use strict";var r=n(4),a=n(3);function o(){var e=Object(r.a)(["\n  display: block;\n  font-size: 1em;\n  transition: all 0.1s ease;\n  cursor: pointer;\n  outline: none;\n  padding: ",";\n  border-radius: 4px;\n  border: 1px solid transparent;\n  box-shadow: 0 4px 8px 0 ",";\n  background: ",";\n  color: ",";\n\n  &:hover {\n    opacity: 0.8;\n  }\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  &:disabled {\n    opacity: 0.3;\n    cursor: text;\n  }\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  font-size: 20px;\n  padding: 10px;\n"]);return c=function(){return e},e}var u=Object(a.c)(c()),i=a.d.button(o(),function(e){return e.theme.paddings.small},function(e){return e.theme.colors.btn.shadow},function(e){return"linear-gradient(79deg, ".concat(e.theme.colors.btn.prime1,", ").concat(e.theme.colors.btn.prime2,")")},function(e){return e.theme.colors.white});function l(){var e=Object(r.a)(["\n  height: 34px;\n  border-radius: 4px;\n  background-color: ",";\n  line-height: 34px;\n  padding: 0 15px;\n  border: 1px solid ",";\n  outline: none;\n\n  &:focus {\n    border: solid 1px ",";\n    box-shadow: 0 4px 16px 0 ",";\n  }\n"]);return l=function(){return e},e}var s=a.d.select(l(),function(e){return e.theme.colors.white},function(e){return e.theme.colors.input.border},function(e){return e.theme.colors.input.focusBorder},function(e){return e.theme.colors.input.focusShadow});function d(){var e=Object(r.a)(["\n  height: 34px;\n  width: 100%;\n  border-radius: 4px;\n  background-color: ",";\n  line-height: 34px;\n  padding: 0 15px;\n  border: 1px solid ",";\n  outline: none;\n\n  &:focus {\n    box-shadow: 0 4px 16px 0 ",";\n    border: solid 1px ",";\n  }\n"]);return d=function(){return e},e}var m=a.d.input(d(),function(e){return e.theme.colors.white},function(e){return e.theme.colors.input.border},function(e){return e.theme.colors.input.focusShadow},function(e){return e.theme.colors.input.focusBorder});n.d(t,"a",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return m})},215:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return s});var r="encounterBattle/ADD_MONSTER_TO_BATTLE_TABLE",a="encounterBattle/SET_MONSTER_HP",o="encounterBattle/SET_MONSTER_STATE",c="encounterBattle/NEXT_TURN",u=function(e){return{type:r,monster:e}},i=function(e,t){return{type:a,rowID:e,hp:t}},l=function(e,t){return{type:o,rowID:e,state:t}},s=function(){return{type:c}}},218:function(e,t,n){"use strict";var r=n(4),a=n(3);function o(){var e=Object(r.a)(["\n  margin: 0;\n  margin-bottom: ",";\n  font-size: ",";\n  font-weight: normal;\n  line-height: 1;\n  ","\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  text-align: center;\n"]);return c=function(){return e},e}var u=Object(a.c)(c()),i=a.d.h2(o(),function(e){return e.theme.margins.medium},function(e){return e.theme.fontSize.title},function(e){return e.center&&u});n.d(t,"a",function(){return i})},225:function(e,t,n){var r=n(237),a=n(238);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var u=0;u<16;++u)t[o+u]=c[u];return t||a(c)}},237:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},238:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,a=n;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},241:function(e,t,n){"use strict";n.r(t);var r=n(22);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=n(9),c=n(225),u=n.n(c),i=n(75),l=n(215),s=function(e){return{rowID:u()(),monster:Object(o.a)({},e,{initiative:(t=e.dexterity,Math.floor(Math.floor(20*Math.random())+1+(t-10)/2)),state:[]})};var t},d={monsters:[],turn:0,battleStarted:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:var n=[].concat(a(e.monsters),[s(t.monster)]).sort(function(e,t){return t.monster.initiative-e.monster.initiative});if(!e.monsters.length||!e.battleStarted)return Object(o.a)({},e,{monsters:n});var r=n.findIndex(function(t){return t.rowID===e.monsters[e.turn].rowID});return Object(o.a)({},e,{monsters:n,turn:r});case i.k:if(!e.monsters.length)return e;var c,u=t.monster,m=t.qty,f=e.monsters.filter(function(e){return e.monster.id===u.id});if(!f.length)return e;if(c=m>f.length?[].concat(a(e.monsters),[s(u)]).sort(function(e,t){return t.monster.initiative-e.monster.initiative}):[].concat(a(e.monsters.slice(0,e.monsters.findIndex(function(e){return e.monster.id===u.id}))),a(e.monsters.slice(e.monsters.findIndex(function(e){return e.monster.id===u.id})+1))).sort(function(e,t){return t.monster.initiative-e.monster.initiative}),!e.battleStarted)return Object(o.a)({},e,{monsters:c});var p=c.findIndex(function(t){return t.rowID===e.monsters[e.turn].rowID});return Object(o.a)({},e,{monsters:c,turn:-1!==p?p:e.turn});case l.c:var v=t.rowID,b=t.hp,h=e.monsters.find(function(e){return e.rowID===v});return h?Object(o.a)({},e,{monsters:[].concat(a(e.monsters.slice(0,e.monsters.findIndex(function(e){return e.rowID===v}))),[{rowID:v,monster:Object(o.a)({},h.monster,{hit_points:b})}],a(e.monsters.slice(e.monsters.findIndex(function(e){return e.rowID===v})+1)))}):e;case l.d:var g=t.rowID,y=t.state,O=e.monsters.find(function(e){return e.rowID===g});return O?Object(o.a)({},e,{monsters:[].concat(a(e.monsters.slice(0,e.monsters.findIndex(function(e){return e.rowID===g}))),[{rowID:g,monster:Object(o.a)({},O.monster,{state:y})}],a(e.monsters.slice(e.monsters.findIndex(function(e){return e.rowID===g})+1)))}):e;case l.b:return Object(o.a)({},e,{turn:e.turn===e.monsters.length-1?0:e.turn+1,battleStarted:!0});default:return e}},f=n(76),p=[{id:u()(),level:f.b[1],playerCount:4}],v={level:f.b[1],playerCount:1},b={monsters:[],loadedMonsters:[],monsterLoading:!1,monsterError:null,loading:!1,error:null,partyLevels:p,groups:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.d:return Object(o.a)({},e,{monsters:[],loading:!0,error:null});case i.f:return Object(o.a)({},e,{monsters:t.monsters,loading:!1,error:null});case i.e:return Object(o.a)({},e,{monsters:[],loading:!1,error:t.error});case i.g:case i.a:return Object(o.a)({},e,{monsterLoading:!0,monsterError:null});case i.i:return Object(o.a)({},e,{loadedMonsters:[].concat(a(e.loadedMonsters),[t.monster]),monsterLoading:!1,monsterError:null});case i.h:return Object(o.a)({},e,{monsterLoading:!1,monsterError:t.error});case i.c:return Object(o.a)({},e,{partyLevels:[].concat(a(e.partyLevels),[Object(o.a)({id:u()()},v)])});case i.j:var n=t.id;return Object(o.a)({},e,{partyLevels:[].concat(a(e.partyLevels.slice(0,e.partyLevels.findIndex(function(e){return e.id===n}))),a(e.partyLevels.slice(e.partyLevels.findIndex(function(e){return e.id===n})+1)))});case i.l:var r=t.id,c=t.value;return Object(o.a)({},e,{partyLevels:[].concat(a(e.partyLevels.slice(0,e.partyLevels.findIndex(function(e){return e.id===r}))),[{id:r,level:f.b[c],playerCount:e.partyLevels[e.partyLevels.findIndex(function(e){return e.id===r})].playerCount}],a(e.partyLevels.slice(e.partyLevels.findIndex(function(e){return e.id===r})+1)))});case i.m:var l=t.id,s=t.value;return Object(o.a)({},e,{partyLevels:[].concat(a(e.partyLevels.slice(0,e.partyLevels.findIndex(function(e){return e.id===l}))),[{id:l,level:e.partyLevels[e.partyLevels.findIndex(function(e){return e.id===l})].level,playerCount:s}],a(e.partyLevels.slice(e.partyLevels.findIndex(function(e){return e.id===l})+1)))});case i.b:var d=t.monsterID,m=e.groups.findIndex(function(e){return e.monster.id===d});if(-1===m){var p=e.monsters.find(function(e){return e.id===d});return p?Object(o.a)({},e,{groups:[].concat(a(e.groups),[{qty:1,monster:p}]),monsterLoading:!1}):Object(o.a)({},e,{monsterLoading:!1})}return Object(o.a)({},e,{groups:[].concat(a(e.groups.slice(0,m)),[Object(o.a)({},e.groups[m],{qty:e.groups[m].qty+1})],a(e.groups.slice(m+1))),monsterLoading:!1});case i.k:var h=t.monster,g=t.qty,y=e.groups.findIndex(function(e){return e.monster.id===h.id});return 0===g?Object(o.a)({},e,{groups:[].concat(a(e.groups.slice(0,y)),a(e.groups.slice(y+1)))}):Object(o.a)({},e,{groups:[].concat(a(e.groups.slice(0,y)),[Object(o.a)({},e.groups[y],{qty:g})],a(e.groups.slice(y+1)))});default:return e}},g=n(23),y=n(12),O=n(0),j=n.n(O),x=function(e){return e.breakpoints},E=function(e){return{breakpoints:x(e)}},C=n(13),w=n(14),k=n(17),L=n(16),M=n(18),I=n(58),T=function(e){return function(t){return function(n){function r(){return Object(C.a)(this,r),Object(k.a)(this,Object(L.a)(r).apply(this,arguments))}return Object(M.a)(r,n),Object(w.a)(r,[{key:"componentWillMount",value:function(){this.sagas=I.a.run(e)}},{key:"componentWillUnmount",value:function(){this.sagas.cancel()}},{key:"render",value:function(){return j.a.createElement(t,this.props)}}]),r}(O.Component)}},P=n(46),D=n.n(P),S=n(36),A=n(62),R=D.a.mark(q),z=D.a.mark(H),N=D.a.mark(Q),B=D.a.mark(V),_=function(){return fetch("./data/monsters/monsters.json").then(function(e){return e.json()})};function q(){var e;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A.a)(_);case 3:return e=t.sent,t.next=6,Object(A.b)(Object(i.s)(e.map(function(e){var t=e.slug,n=Object(S.a)(e,["slug"]);return Object(o.a)({},n,{id:t,type:n.type.startsWith("swarm")?"swarm":n.type})})));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(A.b)(Object(i.r)(t.t0.message||t.t0.response.statusText));case 12:case"end":return t.stop()}},R,null,[[0,8]])}var F=function(e){return fetch("./data/monsters/".concat(e,".json")).then(function(e){return e.json()})};function H(e){var t,n,r;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.monsterID,a.prev=1,a.next=4,Object(A.a)(F,t);case 4:return n=a.sent,r=Object(o.a)({},n,{id:t,type:n.type.startsWith("swarm")?"swarm":n.type}),a.next=8,Object(A.b)(Object(i.v)(r));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(A.b)(Object(i.u)(a.t0.message||a.t0.response.statusText));case 14:case"end":return a.stop()}},z,null,[[1,10]])}function Q(e){var t,n,r,a;return D.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.monsterID,n=e.monster,c.prev=1,!n){c.next=9;break}return c.next=5,Object(A.b)(Object(i.o)(t));case 5:return c.next=7,Object(A.b)(Object(l.e)(n));case 7:c.next=19;break;case 9:return c.next=11,Object(A.a)(F,t);case 11:return r=c.sent,a=Object(o.a)({},r,{id:t,type:r.type.startsWith("swarm")?"swarm":r.type}),c.next=15,Object(A.b)(Object(i.v)(a));case 15:return c.next=17,Object(A.b)(Object(i.o)(t));case 17:return c.next=19,Object(A.b)(Object(l.e)(a));case 19:c.next=25;break;case 21:return c.prev=21,c.t0=c.catch(1),c.next=25,Object(A.b)(Object(i.u)(c.t0.message||c.t0.response.statusText));case 25:case"end":return c.stop()}},N,null,[[1,21]])}function V(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.c)(i.d,q);case 2:return e.next=4,Object(A.c)(i.g,H);case 4:return e.next=6,Object(A.c)(i.a,Q);case 6:case"end":return e.stop()}},B)}var W=n(49),Y=n(37),J=n(56),K=n(96),U=n(63),G=n(31),$=n(218),X=n(214),Z=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).handleOnChange=function(e){var t=e.target.value,r=n.props,a=r.onChange,o=r.id;a(Number(t),o)},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.maxValue,r=Array.from(new Array(n),function(e,t){return t+1});return j.a.createElement(X.c,{onChange:this.handleOnChange,value:t},r.map(function(e){return j.a.createElement("option",{key:e,value:e},e)}))}}]),t}(j.a.PureComponent),ee=n(41),te=n(4),ne=n(3);function re(){var e=Object(te.a)(["\n  display: block;\n  transition: all 0.1s ease;\n  cursor: pointer;\n  outline: none;\n  padding: ",";\n  border-radius: 4px;\n  border: 1px solid transparent;\n  box-shadow: 0 4px 8px 0 ",";\n  background: ",";\n  color: ",";\n\n  &:hover {\n    opacity: 0.8;\n  }\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  &:disabled {\n    opacity: 0.3;\n    cursor: text;\n  }\n"]);return re=function(){return e},e}var ae=ne.d.button(re(),function(e){return e.theme.paddings.small},function(e){return e.theme.colors.btn.shadow},function(e){return"linear-gradient(79deg, ".concat(e.theme.colors.btn.prime1,", ").concat(e.theme.colors.btn.prime2,")")},function(e){return e.theme.colors.white}),oe=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).handleOnClick=function(){var e=n.props;(0,e.removePartyLevel)(e.id)},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return j.a.createElement(ae,{type:"button",onClick:this.handleOnClick},j.a.createElement(ee.c,null,j.a.createElement(ee.f,null)))}}]),t}(j.a.PureComponent);function ce(){var e=Object(te.a)(["\n  font-size: 12px;\n  margin-top: 10px;\n\n  & svg {\n    margin-right: ",";\n  }\n"]);return ce=function(){return e},e}var ue=Object(ne.d)(X.a)(ce(),function(e){return e.theme.margins.small}),ie=function(e){return j.a.createElement(ue,Object.assign({type:"button"},e),j.a.createElement(ee.c,null,j.a.createElement(ee.e,{size:12}),j.a.createElement(G.a,{id:"group-info.add-another-level"})))};function le(){var e=Object(te.a)(["\n  display: table-cell;\n\n  & + & {\n    border-left: 6px solid transparent;\n  }\n"]);return le=function(){return e},e}function se(){var e=Object(te.a)(["\n  display: table-row;\n\n  & + & {\n    border-top: 6px solid transparent;\n  }\n"]);return se=function(){return e},e}function de(){var e=Object(te.a)(["\n  display: table;\n  border-collapse: collapse;\n"]);return de=function(){return e},e}var me=ne.d.div(de()),fe=ne.d.div(se()),pe=ne.d.div(le()),ve=function(e){var t=e.partyLevels,n=e.setPartyPlayerCount,r=e.setPartyLevel,a=e.removePartyLevel,o=e.addPartyLevel;return j.a.createElement(j.a.Fragment,null,j.a.createElement(me,null,j.a.createElement(fe,null,j.a.createElement(pe,null,j.a.createElement("b",null,j.a.createElement(G.a,{id:"group-info.players"}),":")),j.a.createElement(pe,null,j.a.createElement("b",null,j.a.createElement(G.a,{id:"group-info.level"}),":"))),t.map(function(e,t){return j.a.createElement(fe,{key:e.id},j.a.createElement(pe,null,j.a.createElement(Z,{onChange:n,value:e.playerCount,maxValue:12,id:e.id})),j.a.createElement(pe,null,j.a.createElement(Z,{onChange:r,value:e.level.level,maxValue:20,id:e.id})),!!t&&j.a.createElement(pe,null,j.a.createElement(oe,{removePartyLevel:a,id:e.id})))})),j.a.createElement(ie,{onClick:o}))},be=n(20),he=function(e){return e.reduce(function(e,t){var n,r={easy:(n=t).playerCount*n.level.easy,medium:n.playerCount*n.level.medium,hard:n.playerCount*n.level.hard,deadly:n.playerCount*n.level.deadly,budget:n.playerCount*n.level.budget};return{easy:e.easy+r.easy,medium:e.medium+r.medium,hard:e.hard+r.hard,deadly:e.deadly+r.deadly,budget:e.budget+r.budget}},{easy:0,medium:0,hard:0,deadly:0,budget:0})},ge=function(e){return e.reduce(function(e,t){return e+f.a[t.monster.challenge_rating].exp*t.qty},0)},ye=function(e){return e.reduce(function(e,t){return e+t.playerCount},0)},Oe=function(e,t){var n=function(e){return e.reduce(function(e,t){return e+t.qty},0)}(e),r=ge(e),a=function(e,t){var n;return 0===t?0:(n=1===t?1:2===t?2:t<7?3:t<11?4:t<15?5:6,e<3?n+=1:e>5&&(n-=1),[.5,1,1.5,2,2.5,3,4,5][n])}(ye(t),n);return Math.floor(r*a)},je=function(e,t){var n=Oe(e,t),r=he(t);return n<r.easy?"":n<r.medium?"easy":n<r.hard?"medium":n<r.deadly?"hard":"deadly"},xe=["easy","medium","hard","deadly","budget"];function Ee(){var e=Object(te.a)(["\n  font-weight: ",";\n\n  &:last-child {\n    margin-top: ",";\n  }\n"]);return Ee=function(){return e},e}var Ce=ne.d.li(Ee(),function(e){return e.bold?"bold":"normal"},function(e){return e.theme.margins.medium});function we(){var e=Object(te.a)(["\n  list-style: none;\n  margin: ",";\n  margin-right: 0;\n  padding: 0;\n  text-align: right;\n"]);return we=function(){return e},e}var ke=ne.d.ul(we(),function(e){return e.theme.margins.medium}),Le=function(e){var t=e.partyLevels,n=e.groups,r=he(t),a=je(n,t);return j.a.createElement(ke,null,xe.map(function(e){return j.a.createElement(Ce,{key:e,bold:e===a},j.a.createElement(G.a,{id:"group-info.party-levels.".concat(e,"-exp"),values:{exp:Object(be.d)(r[e])}}))}))};function Me(){var e=Object(te.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Me=function(){return e},e}var Ie=ne.d.div(Me()),Te=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.partyLevels,n=e.groups,r=e.addPartyLevel,a=e.removePartyLevel,o=e.setPartyLevel,c=e.setPartyPlayerCount;return j.a.createElement(Ie,null,j.a.createElement("div",null,j.a.createElement($.a,null,j.a.createElement(G.a,{id:"group-info.title"})),j.a.createElement(ve,{partyLevels:t,addPartyLevel:r,removePartyLevel:a,setPartyLevel:o,setPartyPlayerCount:c})),j.a.createElement(Le,{partyLevels:t,groups:n}))}}]),t}(j.a.PureComponent),Pe=Object(y.c)(function(e){return{partyLevels:Object(W.f)(e),groups:Object(W.b)(e)}},function(e){return{addPartyLevel:function(){return e(Object(i.p)())},removePartyLevel:function(t){return e(Object(i.w)(t))},setPartyLevel:function(t,n){return e(Object(i.y)(t,n))},setPartyPlayerCount:function(t,n){return e(Object(i.z)(t,n))}}})(Te);function De(){var e=Object(te.a)(["\n  font-size: 30px;\n  font-weight: 300;\n"]);return De=function(){return e},e}var Se=ne.d.div(De());function Ae(){var e=Object(te.a)(["\n  display: flex;\n  font-size: 16px;\n\n  & div + div {\n    margin-left: ",";\n  }\n"]);return Ae=function(){return e},e}var Re=ne.d.div(Ae(),function(e){return e.theme.margins.medium}),ze=function(e){var t=e.cr,n=e.xp;return j.a.createElement(Re,null,j.a.createElement("div",null,j.a.createElement(G.a,{id:"encounter-info.cr",values:{cr:t}})),j.a.createElement("div",null,j.a.createElement(G.a,{id:"encounter-info.xp",values:{xp:Object(be.d)(n)}})))};function Ne(){var e=Object(te.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  & + & {\n    margin-top: ",";\n  }\n\n  & > div + div {\n    margin-left: ",";\n  }\n"]);return Ne=function(){return e},e}var Be=ne.d.div(Ne(),function(e){return e.theme.margins.large},function(e){return e.theme.margins.medium});function _e(){var e=Object(te.a)(["\n  display: flex;\n  border: 1px solid ",";\n  border-radius: 4px;\n"]);return _e=function(){return e},e}var qe=ne.d.div(_e(),function(e){return e.theme.colors.input.border});function Fe(){var e=Object(te.a)(["\n  ","\n  padding: ",";\n  background-color: #f3f3f3;\n  color: #929292;\n  cursor: pointer;\n  ","\n  ","\n"]);return Fe=function(){return e},e}function He(){var e=Object(te.a)(["\n  border-left: 1px solid ",";\n  border-radius: 0 4px 4px 0;\n"]);return He=function(){return e},e}function Qe(){var e=Object(te.a)(["\n  border-right: 1px solid ",";\n  border-radius: 4px 0 0 4px;\n"]);return Qe=function(){return e},e}var Ve=Object(ne.c)(Qe(),function(e){return e.theme.colors.input.border}),We=Object(ne.c)(He(),function(e){return e.theme.colors.input.border}),Ye=Object(ne.d)(ee.c)(Fe(),ee.b.colorOverrideCss("#929292"),function(e){return e.theme.paddings.medium},function(e){return e.left&&Ve},function(e){return e.right&&We});function Je(){var e=Object(te.a)(["\n  border: none;\n  border-radius: 0;\n  vertical-align: middle;\n  text-align: center;\n  width: 40px;\n\n  &:focus {\n    border: solid 1px ",";\n    box-shadow: 0 4px 16px 0 ",";\n  }\n"]);return Je=function(){return e},e}var Ke=ne.d.input(Je(),function(e){return e.theme.colors.input.focusBorder},function(e){return e.theme.colors.input.focusShadow}),Ue=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).handleOnClickMinus=function(){var e=n.props,t=e.getMonsterById,r=e.setMonsterQTY,a=e.monsterID,o=e.qty,c=t(a);c&&r(c,o-1)},n.handleOnClickPlus=function(){var e=n.props,t=e.getMonsterById,r=e.setMonsterQTY,a=e.monsterID,o=e.qty,c=t(a);c&&r(c,o+1)},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.qty;return j.a.createElement(qe,null,j.a.createElement(Ye,{left:!0,onClick:this.handleOnClickMinus},j.a.createElement(ee.d,{size:12})),j.a.createElement(Ke,{type:"text",value:e,readOnly:!0}),j.a.createElement(Ye,{right:!0,onClick:this.handleOnClickPlus},j.a.createElement(ee.e,{size:12})))}}]),t}(j.a.PureComponent),Ge=Object(y.c)(function(e){return{getMonsterById:function(t){return Object(W.c)(e,t)}}})(Ue),$e=function(e){var t=e.group,n=t.monster,r=t.qty,a=e.setMonsterQTY;return j.a.createElement(Be,null,j.a.createElement("div",null,j.a.createElement(Se,null,n.name),j.a.createElement(ze,{cr:n.challenge_rating,xp:f.a[n.challenge_rating].exp})),j.a.createElement("div",null,j.a.createElement(Ge,{monsterID:n.id,setMonsterQTY:a,qty:r})))},Xe=function(e){var t=e.groups,n=e.setMonsterQTY;return j.a.createElement("div",null,j.a.createElement($.a,null,j.a.createElement(G.a,{id:"encounter-info.title"})),t.length?t.map(function(e){return j.a.createElement($e,{key:e.monster.id,group:e,setMonsterQTY:n})}):j.a.createElement("div",null,j.a.createElement(G.a,{id:"encounter-info.empty-groups-message"})))},Ze=Object(y.c)(function(e){return{groups:Object(W.b)(e)}},function(e){return{setMonsterQTY:function(t,n){return e(Object(i.x)(t,n))}}})(Xe);function et(){var e=Object(te.a)(["\n  font-size: 21px;\n"]);return et=function(){return e},e}var tt=ne.d.div(et());function nt(){var e=Object(te.a)(["\n  font-size: 14px;\n  font-style: italic;\n"]);return nt=function(){return e},e}var rt=ne.d.div(nt());function at(){var e=Object(te.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  & div + div {\n    margin-left: ",";\n  }\n"]);return at=function(){return e},e}var ot=ne.d.div(at(),function(e){return e.theme.margins.medium}),ct=Object(G.d)(function(e){var t=e.groups,n=e.partyLevels,r=e.intl,a=ye(n),o=ge(t),c=Math.round(o/a),u=Oe(t,n),i=Math.round(u/a),l=je(t,n)?r.formatMessage({id:"group-info.party-levels.".concat(je(t,n))}):"";return j.a.createElement(ot,null,j.a.createElement(tt,null,j.a.createElement(G.a,{id:"encounter-info.difficulty",values:{difficulty:l}})),j.a.createElement("div",null,j.a.createElement(tt,{className:"text-right"},j.a.createElement(G.a,{id:"encounter-info.total-xp",values:{exp:o}})),j.a.createElement(rt,{className:"text-right"},j.a.createElement(G.a,{id:"encounter-info.exp-per-player",values:{exp:c}})),j.a.createElement(tt,{className:"text-right"},j.a.createElement(G.a,{id:"encounter-info.adjusted-xp",values:{exp:u}})),j.a.createElement(rt,{className:"text-right"},j.a.createElement(G.a,{id:"encounter-info.exp-per-player",values:{exp:i}}))))});function ut(){var e=Object(te.a)(["\n  padding: ",";\n"]);return ut=function(){return e},e}var it=ne.d.li(ut(),function(e){return e.theme.paddings.small});function lt(){var e=Object(te.a)(["\n  list-style: none;\n  margin: 0 0 "," 0;\n  padding: 0;\n  border: 1px solid ",";\n"]);return lt=function(){return e},e}var st=ne.d.ul(lt(),function(e){return e.theme.margins.medium},function(e){return e.theme.colors.hr}),dt=["trivial","group","pair","easy","medium","hard","deadly"],mt=function(){return j.a.createElement("div",null,j.a.createElement($.a,null,j.a.createElement(G.a,{id:"legend.title"})),j.a.createElement(st,null,dt.map(function(e){return j.a.createElement(it,{className:"legend-".concat(e),key:e},j.a.createElement(G.a,{id:"legend.".concat(e)}))})))},ft=n(25),pt=n(80),vt=n(68),bt=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).handleOnClick=function(e){e.stopPropagation();var t=n.props,r=t.addMonsterToGroup,a=t.getMonsterById,o=t.monsterID;r(o,a(o))},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return j.a.createElement(X.a,{type:"button",onClick:this.handleOnClick},j.a.createElement(ee.c,null,j.a.createElement(ee.e,null)))}}]),t}(j.a.PureComponent),ht=Object(y.c)(function(e){return{getMonsterById:function(t){return Object(W.c)(e,t)}}},function(e){return{addMonsterToGroup:function(t,n){return e(Object(i.n)(t,n))}}})(bt),gt=[10,25,50,100,250,500,1e3],yt=["0","1/8","1/4","1/2","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],Ot=yt.map(function(e){return f.a[e].numeric}),jt=["Tiny","Small","Medium","Large","Huge","Gargantuan"],xt=["aberration","beast","celestial","construct","dragon","elemental","fey","fiend","giant","humanoid","monstrosity","ooze","plant","undead","swarm","titan"],Et=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={minCR:"",maxCR:""},n.handleChangeMin=function(e){var t=e.target.value;n.setState({minCR:t}),n.props.onChange({minCR:t,maxCR:n.state.maxCR})},n.handleChangeMax=function(e){var t=e.target.value;n.setState({maxCR:t}),n.props.onChange({minCR:n.state.minCR,maxCR:t})},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.intl.formatMessage;return j.a.createElement("div",null,j.a.createElement("select",{onChange:this.handleChangeMin,value:this.state.minCR,style:{width:"50%"}},j.a.createElement("option",{value:""},e({id:"table-labels.min"})),Ot.map(function(e,t){return j.a.createElement("option",{value:e,key:e},yt[t])})),j.a.createElement("select",{onChange:this.handleChangeMax,value:this.state.maxCR,style:{width:"50%"}},j.a.createElement("option",{value:""},e({id:"table-labels.max"})),Ot.map(function(e,t){return j.a.createElement("option",{value:e,key:e},yt[t])})))}}]),t}(j.a.PureComponent),Ct=Object(G.d)(Et),wt=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(e){var t=e.target.value;n.props.onChange(t)},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.intl.formatMessage;return j.a.createElement("select",{onChange:this.handleChange,value:t},j.a.createElement("option",{value:""},n({id:"table-labels.Any"})),jt.map(function(e){return j.a.createElement("option",{value:e,key:e},n({id:"monster.sizes.".concat(e)}))}))}}]),t}(j.a.PureComponent),kt=Object(G.d)(wt),Lt=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(e){var t=e.target.value;n.props.onChange(t)},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.intl.formatMessage,r=xt.sort(function(e,t){var r=n({id:"monster.types.".concat(e)}),a=n({id:"monster.types.".concat(t)});return r<a?-1:r>a?1:0});return j.a.createElement("select",{onChange:this.handleChange,value:t},j.a.createElement("option",{value:""},n({id:"table-labels.Any"})),r.map(function(e){return j.a.createElement("option",{value:e,key:e},n({id:"monster.types.".concat(e)}))}))}}]),t}(j.a.PureComponent),Mt=Object(G.d)(Lt),It=function(e,t){var n=function(e){var t=ye(e),n=he(e),r=n.medium,a=1,o=1.5,c=2,u=2.5;return t<3?(a=1.5,o=2,c=2.5,u=3):t>5&&(a=.5,o=1,c=1.5,u=2),{deadly:n.deadly/a,hard:n.hard/a,medium:r/a,easy:n.easy/a,pair:r/(2*o),group:r/(4*c),trivial:r/(8*u)}}(e);return t>n.deadly?"legend-deadly":t>n.hard?"legend-hard":t>n.medium?"legend-medium":t>n.easy?"legend-easy":t>n.pair?"legend-pair":t>n.group?"legend-group":"trivial"},Tt=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).defaultFilterMethod=function(e,t){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).includes(e.value.toLowerCase())},n.CRFilterMethod=function(e,t){var n=f.a[t[e.id]].numeric,r=e.value,a=r.minCR,o=r.maxCR;return!a&&!o||(a&&o&&+o>=+a?n>=+a&&n<=+o:a&&!o?n>=+a:!(!a&&o)||n<=+o)},n.typeRenderer=function(e){var t=e.value,r=(0,n.props.intl.formatMessage)({id:"monster.types.".concat(t)}),a=r.charAt(0).toUpperCase()+r.slice(1);return j.a.createElement("span",null,a)},n.typeFilterMethod=function(e,t){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n]).startsWith(e.value)},n.handleTdProps=function(e,t,r){return{onClick:function(e,a){"id"!==r.id&&n.props.showModal(vt.a,{monsterID:t.original.id}),a&&a()}}},n}return Object(M.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.monsters,n=e.partyLevels,r=e.intl.formatMessage,a=[{Header:"",accessor:"id",width:50,Cell:function(e){var t=e.value;return j.a.createElement(ht,{monsterID:t})},sortable:!1,filterable:!1,style:{justifyContent:"center"}},{Header:r({id:"monster.name"}),accessor:"name"},{Header:r({id:"monster.cr"}),accessor:"challenge_rating",getProps:function(e,t){return t?{className:It(n,f.a[t.original.challenge_rating].exp)}:{}},width:190,style:{justifyContent:"center"},filterMethod:this.CRFilterMethod,Filter:function(e){var t=e.onChange;return j.a.createElement(Ct,{onChange:t})}},{Header:r({id:"monster.size"}),accessor:"size",width:140,Cell:function(e){var t=e.value;return r({id:"monster.sizes.".concat(t)})},Filter:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=e.filter,n=e.onChange;return j.a.createElement(kt,{onChange:n,value:t?t.value:""})})},{Header:r({id:"monster.type"}),accessor:"type",minWidth:130,Cell:this.typeRenderer,Filter:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=e.filter,n=e.onChange;return j.a.createElement(Mt,{onChange:n,value:t?t.value:""})}),filterMethod:this.typeFilterMethod}];return j.a.createElement(pt.a,{data:t,columns:a,pageSizeOptions:gt,defaultPageSize:10,resizable:!1,filterable:!0,previousText:r({id:"table-labels.previousText"}),nextText:r({id:"table-labels.nextText"}),loadingText:r({id:"table-labels.loadingText"}),noDataText:r({id:"table-labels.noDataText"}),pageText:r({id:"table-labels.pageText"}),ofText:r({id:"table-labels.ofText"}),rowsText:r({id:"table-labels.rowsText"}),pageJumpText:r({id:"table-labels.pageJumpText"}),rowsSelectorText:r({id:"table-labels.rowsSelectorText"}),defaultFilterMethod:this.defaultFilterMethod,getTdProps:this.handleTdProps,className:"-highlight"})}}]),t}(j.a.PureComponent),Pt=Object(G.d)(Tt),Dt=Object(y.c)(null,function(e){return{showModal:function(t,n){return e(Object(ft.h)(t,n))}}})(Pt);function St(){var e=Object(te.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: ",";\n"]);return St=function(){return e},e}var At=ne.d.div(St(),function(e){return e.theme.margins.medium}),Rt=n(77);function zt(){var e=Object(te.a)([" "," "]);return zt=function(){return e},e}var Nt=Object(ne.d)(X.a.withComponent(Rt.a))(zt(),X.d),Bt=function(e){return e.monsterLoading?j.a.createElement(J.a,null):j.a.createElement(At,{disabled:!0},j.a.createElement(Nt,{to:"/encounter-battle"},j.a.createElement(G.a,{id:"encounter-info.battle-btn"})))},_t=Object(y.c)(function(e){return{monsterLoading:Object(W.h)(e)}})(Bt),qt=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.monsters.length||this.props.fetchAllMonsters()}},{key:"render",value:function(){var e=this.props,t=e.monsters,n=e.loading,r=e.error,a=e.groups,o=e.partyLevels,c=e.breakpoints;return n?j.a.createElement(J.a,null):r?j.a.createElement(K.a,null,r):j.a.createElement(Y.c,null,j.a.createElement(Y.a,{xs:12,sm:12,md:4},j.a.createElement(Y.c,null,j.a.createElement(Y.a,{xs:12},j.a.createElement(Pe,null))),j.a.createElement(U.a,null),j.a.createElement(Y.c,null,j.a.createElement(Y.a,{xs:12},j.a.createElement(Ze,null))),!!a.length&&j.a.createElement(j.a.Fragment,null,j.a.createElement(U.a,null),j.a.createElement(Y.c,null,j.a.createElement(Y.a,{xs:12},j.a.createElement(ct,{groups:a,partyLevels:o}),j.a.createElement(_t,null)))),(c.xs||c.sm&&!c.md)&&j.a.createElement(U.a,null),c.md&&j.a.createElement(j.a.Fragment,null,j.a.createElement(U.a,null),j.a.createElement(Y.c,null,j.a.createElement(Y.a,{xs:12},j.a.createElement(mt,null))))),j.a.createElement(Y.a,{xs:12,sm:12,md:8},j.a.createElement(Y.c,null,j.a.createElement(Y.a,{xs:12},j.a.createElement(Dt,{monsters:t,partyLevels:o}),(c.xs||c.sm&&!c.md)&&j.a.createElement(j.a.Fragment,null,j.a.createElement(U.a,null),j.a.createElement(Y.c,null,j.a.createElement(Y.a,{xs:12},j.a.createElement(mt,null))))))))}}]),t}(j.a.PureComponent),Ft=Object(g.d)(function(e){return Object(y.c)(E)(function(t){return j.a.createElement(e,t)})},T(V),Object(y.c)(function(e){return{monsters:Object(W.e)(e),loading:Object(W.g)(e),error:Object(W.a)(e),groups:Object(W.b)(e),partyLevels:Object(W.f)(e)}},function(e){return{fetchAllMonsters:function(){return e(Object(i.q)())}}}))(qt);n.d(t,"default",function(){return Ft}),r.a.register("encounterBattle",m),r.a.register("encounterBuilder",h)},77:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(21),a=n(0),o=n.n(a),c=n(47),u=n(26),i=(n(1),n(5)),l=n(19),s=n(24);o.a.Component;o.a.Component;var d=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.handleClick=function(e,t){try{this.props.onClick&&this.props.onClick(e)}catch(n){throw e.preventDefault(),n}e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,r=(t.replace,t.to),a=Object(l.a)(t,["innerRef","replace","to"]);return o.a.createElement(c.d.Consumer,null,function(t){t||Object(s.a)(!1);var c="string"===typeof r?Object(u.c)(r,null,null,t.location):r,l=c?t.history.createHref(c):"";return o.a.createElement("a",Object(i.a)({},a,{onClick:function(n){return e.handleClick(n,t.history)},href:l,ref:n}))})},t}(o.a.Component);function m(e){var t=e["aria-current"],n=void 0===t?"page":t,r=e.activeClassName,a=void 0===r?"active":r,u=e.activeStyle,m=e.className,f=e.exact,p=e.isActive,v=e.location,b=e.strict,h=e.style,g=e.to,y=Object(l.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),O="object"===typeof g?g.pathname:g,j=O&&O.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return o.a.createElement(c.d.Consumer,null,function(e){e||Object(s.a)(!1);var t=v?v.pathname:e.location.pathname,r=j?Object(c.e)(t,{path:j,exact:f,strict:b}):null,l=!!(p?p(r,e.location):r),O=l?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(m,a):m,x=l?Object(i.a)({},h,u):h;return o.a.createElement(d,Object(i.a)({"aria-current":l&&n||null,className:O,style:x,to:g},y))})}}}]);
//# sourceMappingURL=encounterBuilder.46e8a00a.chunk.js.map